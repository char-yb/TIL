# 트리 쉐이킹

### 요약
JavaScript 맥락에서 죽은 코드 제거를 설명하기 위해 일반적으로 사용되는 용어이다.
(나무를 흔들면 죽은 잎사귀들이 떨어지는 모습에 착안해 Tree-shaking 이라고 명명하였다고 한다.)
트리 쉐이킹(Tree shaking)은 웹 개발에서 중요한 최적화 기법 중 하나이다. 웹 애플리케이션을 관리하고 성능을 향상시키는 데 필수적인 요소로, 이 글에서는 트리 쉐이킹의 개념을 단계적으로 설명하고자 한다.

---
## 모듈과 번들링: 웹 개발의 기초

### 사전 개념

트리쉐이킹을 이해하려면 먼저, 모듈과 번들링에 대한 개념을 알아야한다. 웹 개발에서 '모듈'은 독립적인 기능을 가진 코드 블록을 의미한다. 모듈은 재사용성과 코드 관리의 용이성을 높이기 위해 사용된다. '번들링'은 이러한 모듈들을 하나의 파일로 결합하는 과정이다. 번들링은 웹 애플리케이션의 로딩 시간을 줄이고, 성능을 최적화하는 데 도움을 주고있다. 번들링을 통해 여러 자바스크립트 파일들이 하나의 파일로 합쳐져 브라우저에 전달된다. 모듈 번들링은 여러 개의 파일(모듈)을 하나의 파일(번들)로 결합하는 과정이다. 이는 웹페이지의 로딩 속도를 개선하는 데 도움을  준다.

예를 들어서 웹사이트를 만들 때, 자바스크립트, CSS, HTML 등 다양한 파일을 사용하는데, 모듈 번들러(예: Webpack)는 이러한 파일들을 하나의 파일로 묶어, 브라우저가 단 한 번의 요청으로 필요한 모든 코드를 받아올 수 있도록 한다.

```javascript
// 모듈 1: sayHello.js
export function sayHello(name) {
  return `Hello, ${name}!`
}

// 메인 자바스크립트 파일
import { sayHello } from './sayHello.js'

console.log(sayHello('World'))
```

여기서 sayHello.js 모듈은 메인 자바스크립트 파일에 의해 불러와지며, 번들링 과정에서 이 두 파일은 하나로 결합된다.

## 트리 쉐이킹의 개념
트리 쉐이킹은 번들링 과정에서 불필요한 코드(사용되지 않는 모듈)를 식별하고 제거하는 기법이다. 이는 페이지 로딩 속도를 향상시키고, 사용자 경험을 개선하는 데 중요한 역할을 하고 있다.

예시: 애플리케이션에 여러 기능들이 포함되어 있지만, 실제로 사용되지 않는 코드가 있을 수 있으며 트리 쉐이킹은 이러한 불필요한 코드를 제거한다.

## 트리 쉐이킹이란?
### 트리 쉐이킹의 단계별 과정
1. 코드 분석: 번들러(예: Webpack)는 모든 코드를 분석하여 사용되고 있는 모듈을 확인한다.
2. 불필요한 모듈 제거: 사용되지 않는 모듈은 최종 번들에서 제외된다.
3. 최적화된 번들 생성: 필요한 모듈만 포함된 최적화된 번들이 생성된다.

### 트리 쉐이킹의 중요성 및 혜택
**웹 애플리케이션 성능 개선**
웹 애플리케이션의 크기가 커질수록, 불필요한 코드의 양도 증가할 수 있다. 트리 쉐이킹은 이러한 불필요한 코드를 제거함으로써 웹 애플리케이션의 성능을 개선한다.

**사용자 경험 향상**
트리 쉐이킹은 사용자에게 더 빠른 로딩 시간과 원활한 경험을 제공하는 데 기여한다.

### 트리 쉐이킹 시 고려해야 할 점
프로젝트의 모듈들이 사이드 이펙트를 발생시키는지 여부를 확인해야한다. 
**안전한 트리쉐이킹이란,**
예측 가능한 입력을 가지고 동일하게 함수의 스코프 밖에 어떤 것도 변경하지 않으면서, 예측 가능한 결과를 반환하는 모듈이 안전하게 트리쉐이킹 할 수 있는 의존성이다.


## 결론: 트리 쉐이킹의 필요성
트리 쉐이킹은 복잡한 웹 애플리케이션을 관리하고 최적화하는 데 필수적인 기법이다. 이를 통해 개발자는 효율적인 코드 관리와 더 나은 사용자 경험을 제공할 수 있으며, 트리 쉐이킹은 웹 개발의 다양한 단계에서 고려되어야 할 중요한 요소이다.

웹 애플리케이션의 크기가 커질수록, 불필요한 코드의 양도 증가할 수 있다. 트리 쉐이킹은 이러한 불필요한 코드를 제거함으로써 웹 애플리케이션의 성능을 개선하며, 사용자에게 더 빠른 로딩 시간과 원활한 경험을 제공하는 데 기여한다.